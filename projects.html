<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fun Stuff - Yilin Geng</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">YILIN</div>
            <ul class="nav-menu">
                <li><a href="index.html" class="nav-link">About</a></li>
                <li><a href="portfolio.html" class="nav-link">Portfolio</a></li>
                <li><a href="projects.html" class="nav-link">Fun Stuff</a></li>
                <li><a href="contact.html" class="nav-link">Contact</a></li>
            </ul>
        </div>
    </nav>

    <main>
        <section class="section">
            <div class="container">
                <h1 class="section-title">Fun Stuff</h1>
                
                <!-- Dynamic Content Sections - Loaded from file system -->
                <div id="dynamic-content">
                    <!-- Content sections will be generated dynamically -->
                </div>

            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Yilin Geng. All wrongs forgiven, all rights reserved.</p>
        </div>
    </footer>

    <script>
        // Dynamic content type configurations
        const contentTypes = {
            albums: {
                title: 'üì∑ Photography',
                description: 'I frequently go out to take photos, though I\'m not a professional photographer - my main hobby is restoring vintage mechanical cameras and taking them out to shoot film.',
                folderNames: ['urban-explorations', 'travel-moments'],
                cardClass: 'album-card warhol-style',
                createCard: (item) => `
                    <div class="${contentTypes.albums.cardClass}">
                        <div class="album-preview pink-preview">
                            <div class="preview-text">${item.title.toUpperCase().replace(' ', '<br>')}</div>
                        </div>
                        <div class="album-info">
                            <h3>${item.title}</h3>
                            <p>${item.description}</p>
                            <div class="album-stats">
                                <span class="stat">üì∏ ${item.date || 'Date TBD'}</span>
                                <span class="stat">üéûÔ∏è Film</span>
                            </div>
                        </div>
                    </div>
                `
            },
            projects: {
                title: 'üé® Creative Experiments',
                description: 'Small interactive experiments and games where creativity meets code in playful ways.',
                folderNames: ['learning_arabic'],
                cardClass: 'project-card pop-style',
                createCard: (item) => {
                    const getProjectIcon = (folderName) => {
                        if (folderName.includes('arabic') || folderName.includes('learning')) return 'üìö';
                        if (folderName.includes('game')) return 'üéÆ';
                        if (folderName.includes('visualization')) return 'üìä';
                        return '‚ö°';
                    };
                    
                    const getProjectType = (folderName) => {
                        if (folderName.includes('arabic') || folderName.includes('learning')) return 'LEARNING<br>PLATFORM';
                        if (folderName.includes('game')) return 'INTERACTIVE<br>GAME';
                        if (folderName.includes('visualization')) return 'DATA<br>VIZ';
                        return 'INTERACTIVE<br>PROJECT';
                    };
                    
                    const getActionText = (folderName) => {
                        if (folderName.includes('arabic') || folderName.includes('learning')) return 'START LEARNING';
                        if (folderName.includes('game')) return 'PLAY NOW';
                        return 'EXPLORE';
                    };
                    
                    return `
                        <div class="${contentTypes.projects.cardClass}">
                            <div class="project-preview game-preview">
                                <div class="preview-icon">${getProjectIcon(item.folderName)}</div>
                                <div class="preview-text">${getProjectType(item.folderName)}</div>
                            </div>
                            <div class="project-info">
                                <h3>${item.title}</h3>
                                <p>${item.description}</p>
                                <div class="project-links">
                                    <a href="content/${item.contentType}/${item.folderName}/index.html" class="project-link" target="_blank">${getActionText(item.folderName)}</a>
                                </div>
                            </div>
                        </div>
                    `;
                }
            }
        };

        // Generic content loader
        async function loadContentType(contentType, config) {
            try {
                const items = [];
                
                for (const folderName of config.folderNames) {
                    try {
                        const response = await fetch(`content/${contentType}/${folderName}/info.json`);
                        if (response.ok) {
                            const itemInfo = await response.json();
                            itemInfo.folderName = folderName;
                            itemInfo.contentType = contentType;
                            items.push(itemInfo);
                        }
                    } catch (error) {
                        console.log(`Could not load ${contentType}: ${folderName}`);
                    }
                }

                return items;
            } catch (error) {
                console.error(`Error loading ${contentType}:`, error);
                return [];
            }
        }

        // Generate dynamic sections
        async function generateDynamicContent() {
            const dynamicContentContainer = document.getElementById('dynamic-content');
            const allSections = [];

            // Load all content types
            for (const [contentType, config] of Object.entries(contentTypes)) {
                const items = await loadContentType(contentType, config);
                
                // Only create section if items exist
                if (items.length > 0) {
                    const sectionId = `${contentType}-section`;
                    const gridId = `${contentType}-grid`;
                    
                    const sectionHTML = `
                        <div class="fun-section" id="${sectionId}">
                            <h2 class="pop-title">${config.title}</h2>
                            <div class="content-area">
                                <p>${config.description}</p>
                            </div>
                            <div class="${contentType}-showcase">
                                <div class="${contentType}-grid" id="${gridId}">
                                    ${items.map(item => config.createCard(item)).join('')}
                                </div>
                            </div>
                        </div>
                    `;
                    
                    allSections.push(sectionHTML);
                }
            }

            // Add all sections to the page
            dynamicContentContainer.innerHTML = allSections.join('');
            
            // If no content found, show a message
            if (allSections.length === 0) {
                dynamicContentContainer.innerHTML = `
                    <div class="fun-section">
                        <h2 class="pop-title">üöß Content Coming Soon</h2>
                        <div class="content-area">
                            <p>Fun stuff is being prepared! Check back soon for interactive projects and creative experiments.</p>
                        </div>
                    </div>
                `;
            }
        }

        // Load all dynamic content on page load
        document.addEventListener('DOMContentLoaded', async () => {
            await generateDynamicContent();
        });
    </script>
</body>
</html>